# Per-node PostgreSQL configuration
# This file is automatically generated based on node-specific resources

# Memory settings (calculated per-node)
shared_buffers = {{ (ansible_memtotal_mb * 0.25) | int }}MB  # 25% of RAM
effective_cache_size = {{ (ansible_memtotal_mb * 0.75) | int }}MB  # 75% of RAM

# Additional per-node settings
{% if local_postgresql_parameters is defined and local_postgresql_parameters | length > 0 %}
{% for parameter in local_postgresql_parameters %}
{{ parameter.option }} = {{ parameter.value }}
{% endfor %}
{% endif %}
